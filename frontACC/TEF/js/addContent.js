var addContent={state:{},initState:function(){try{addContent.state={loadLayerType:0,drawObject:null,freehandObjectID:null,textLabelType:0,publishName:"",publishTags:"",publishType:0,publishViewPermission:2,inLoadLayer:!1,refreshDataTimeout:null,publishMyDataProperties:{type99:{properties:[{name:""+Lang.addContent.publishAs,type:"list",variable:"addContent.state.publishType",list:[{name:""+Lang.addContent.publishEntireProject,value:0},{name:""+Lang.addContent.publishMyData,value:1}],editCallback:addContent.pubishTypeChanged},{name:""+Lang.addContent.publishName,type:"text",variable:"addContent.state.publishName",identified:"name"},{name:""+Lang.addContent.publishViewPermission,type:"list",variable:"addContent.state.publishViewPermission",list:[{name:""+Lang.addContent.onlyMe,value:0},{name:""+Lang.addContent.myGroup,value:1},{name:""+Lang.addContent.mySite,value:2},{name:""+Lang.addContent.everyone,value:3}]}],helpText:{text:Lang.addContent.publishProjectHelp,blink:!1,identified:"help"},buttons:[{name:""+Lang.addContent.publish,icon:"share.svg",callback:ID=>{addContent.publishMyData()},buttonType:0}]}},last:null}}catch(err){application.errorHandling(err.message,0)}},init:function(divName,myDataDivName){try{this.initState(),this.render(),SGWorld.AttachEvent("OnPublishFinished",addContent.OnPublishFinished)}catch(err){application.errorHandling(err.message,0)}},show:function(){try{SGWorld.AttachEvent("OnDrawingFinished",addContent.onDrawingFinished),SGWorld.AttachEvent("OnInputModeChanged",addContent.OnInputModeChanged)}catch(err){application.errorHandling(err.message,0)}},closePanel:function(){try{services.resetAllButtons($("#addContentMain")),SGWorld.DetachEvent("OnDrawingFinished",addContent.onDrawingFinished),SGWorld.DetachEvent("OnInputModeChanged",addContent.OnInputModeChanged),SGWorld.Window.SetInputMode(0)}catch(err){application.errorHandling(err.message,0)}},render:function(){try{$("body").append(` 
        <div id="addContentMain" class="grid3 gridPadding" style="display:none">
            <div id="loadLayersTitle" class='gridTriple propertiesTitle'> ${Lang.addContent.loadLayerHeader} </div>
            <div> <button id="loadMeshBtn" class="ButtonLarge i18n" onclick="addContent.loadLayer('Mesh',1)" title="${Lang.addContent.loadMesh}"><img src="images/icons/Mesh.svg"><br><span>${Lang.addContent.loadMeshBtn}</span></button></div>
            <div> <button id="loadFeaturesBtn" class="ButtonLarge i18n" onclick="addContent.loadLayer('Feature',1)" title="${Lang.addContent.loadFeatures}"><img src="images/icons/Features.svg"><br><span>${Lang.addContent.loadFeaturesBtn}</span></button></div>
            <div> <button id="loadPointCloudBtn" class="ButtonLarge i18n" onclick="addContent.loadLayer('PointCloud',1)" title="${Lang.addContent.loadPointCloud}"><img src="images/icons/PointCloud.svg"><br><span>${Lang.addContent.loadPointCloudBtn}</span></button></div>
            <div> <button id="loadImageryBtn" class="ButtonLarge i18n" onclick="addContent.loadLayer('Imagery|RasterComplex|TerraBuilderProject',1)" title="${Lang.addContent.loadImagery}"><img src="images/icons/Imagery.svg"><br><span>${Lang.addContent.loadImageryBtn}</span></button></div>
            <div> <button id="loadElevationBtn" class="ButtonLarge i18n" onclick="addContent.loadLayer('Elevation|RasterComplex|TerraBuilderProject',1)" title="${Lang.addContent.loadElevation}"><img src="images/icons/Elevation.svg"><br><span>${Lang.addContent.loadElevationBtn}</span></button></div>
            <div> <button id="loadProjectBtn" class="ButtonLarge i18n" onclick="addContent.loadLayer('TerraExplorerProjectDesktop',1)" title="${Lang.addContent.loadProject}"><img src="images/icons/Project.svg"><br><span>${Lang.addContent.loadProjectBtn}</span></button></div>

            <div class='gridTriple propertiesTitle'> ${Lang.addContent.drawingToolsHeader} </div>
            <div> <button id="drawTextLabelBtn" class="ButtonLarge i18n" onclick="addContent.startDrawing('textLabel')" title="${Lang.addContent.textLabel}"><img src="images/icons/textLabel.svg"><br><span>${Lang.addContent.textLabelBtn}</span></button></div>
            <div> <button id="drawImageLabelBtn" class="ButtonLarge i18n" onclick="addContent.startDrawing('imageLabel')" title="${Lang.addContent.imageLabel}"><img src="images/icons/imageLabel.svg"><br><span>${Lang.addContent.imageLabelBtn}</span></button></div>
            <div> <button id="drawFreehandDrawingBtn" class="ButtonLarge i18n" onclick="addContent.startDrawing('freehandDrawing')" title="${Lang.addContent.freehandDrawing}"><img src="images/icons/freehandDrawing.svg"><br><span>${Lang.addContent.freehandDrawingBtn}</span></button></div>
            <div> <button id="drawPolylineBtn" class="ButtonLarge i18n" onclick="addContent.startDrawing('polyline')" title="${Lang.addContent.polyline}"><img src="images/icons/polyline.svg"><br><span>${Lang.addContent.polylineBtn}</span></button></div>
            <div> <button id="drawPolygonBtn" class="ButtonLarge i18n" onclick="addContent.startDrawing('polygon')" title="${Lang.addContent.polygon}"><img src="images/icons/polygon.svg"><br><span>${Lang.addContent.polygonBtn}</span></button></div>

            <div class='gridTriple propertiesTitle'> ${Lang.addContent.publishProject} </div>
            <div> <button id="publishProjectContentBtn" class="ButtonLarge i18n" onclick="addContent.openPublishMyData();" title="${Lang.addContent.publishProject}"><img src="images/icons/share.svg"><br><span>${Lang.addContent.publish}</span></button></div>
        </div>`),$("body").append(` 
        <div id='publishProjectFinished' class='grid1 gridPadding  '> 
            <div class=' propertiesTitle'> ${Lang.addContent.publishPath} </div>
            <div class=''> <input type='text' class='w100' id='savedProjectText' value=''/> </div>
            <div class=' gridCenter '>      
                <button id='savedProjectCopy' class=' ButtonLarge ' onclick='addContent.copyShareLink(0);'><img src='images/icons/link.svg'><br><span>${Lang.navigate.copyLink}</span></button>
                <button id='savedProjectEmail' class=' ButtonLarge ' onclick='addContent.copyShareLink(1);'><img src='images/icons/email.svg'><br><span>${Lang.navigate.shareEmail}</span></button>
                <button id='savedProjectWhatsApp' class=' ButtonLarge ' onclick='addContent.copyShareLink(2);'><img src='images/icons/WhatsApp.svg'><br><span>${Lang.navigate.shareWhatsApp}</span></button>
                <button id='savedProjectTwitter' class=' ButtonLarge ' onclick='addContent.copyShareLink(3);'><img src='images/icons/Twitter.svg'><br><span>${Lang.navigate.shareTwitter}</span></button>
            </div>
        </div>`),$("body").append(` 
        <div id='publishMyDataFinished' class='grid1 gridPadding  '> 
            <div class=' propertiesTitle'>${Lang.addContent.publishMyDataCompleted}</div>
        </div>`)}catch(err){application.errorHandling(err.message,0)}},openTool:function(itemID,toolName,type,url){url=url+"?lang="+Lang.code+"&root="+projectTree.getMyDataGroup();panel.addAndShow(1,url,toolName,addContent.closeTool,panel.state.widthSmall,panel.state.heightMedium,!1,0)},closeTool:function(){try{services.resetAllButtons($("#addContentMain")),projectTree.closeTool()}catch(err){application.errorHandling(err.message,0)}},loadLayer:function(layerType,loadLayerType){try{var url,caption;!application.state.TEPLUS&&0!=loadLayerType||(null==application.state.connectedServer?application.errorHandling(""+Lang.addContent.errorMustLogin,1):(window.isSGSCreatorLoaded||(window.isSGSCreatorLoaded=!0),url=application.state.connectedServer+`/telayers?type=${layerType}&tewebnew=true`,addContent.state.loadLayerType=loadLayerType,addContent.state.inLoadLayer=!0,caption=Lang.addContent.loadLayer+": "+application.state.connectedServer,panel.addAndShow(1,url,caption,addContent.loadLayerClosed,panel.state.widthXLarge,panel.state.heightXLarge,!1,3)))}catch(err){application.errorHandling(err.message,0)}},receiveMessage:function(data){try{if(addContent.state.inLoadLayer&&panel.back(),"close"!=data.data){try{var receivedObj=JSON.parse(data.data)}catch(err){return}var $parent,layers,groupID;"iframeHeight"==receivedObj.mode?($("#loginIframe").height(receivedObj.height),$("#loginContainerIframe").height(receivedObj.height+100),$parent=$("#loginContainerIframe").parent(),Math.max(0,($(window).height()-$parent.outerHeight())/2),panel.setDimentions(application.state.isMobile?"100%":panel.state.widthMedium,receivedObj.height&&0<receivedObj.height?receivedObj.height+190:application.state.loginHeight)):"loginToSSO"==receivedObj.mode?parent&&parent.loginRedirectHelper?parent.loginRedirectHelper(receivedObj.ssoURL):location=receivedObj.ssoURL:"loginSucceeded"==receivedObj.mode?application.connectByCookie(receivedObj.url).then(()=>{application.setLoginState(!1),$("#loginIframe").attr("src",""),panel.close(),application.state.openProjectsDialogAfterLogin?(application.state.openProjectsDialogAfterLogin=!1,addContent.loadLayer("TerraExplorerProjectDesktop",0)):(application.state.hasLayerWithoutPermission||application.state.reloadAfterLogin||application.state.serverConfig&&application.state.serverConfig.loginMode&&"force"==application.state.serverConfig.loginMode)&&location.reload()}).catch(error=>{application.errorHandling(Lang.application.loginFiledThirdPartyCookie,0),panel.close()}):"loginFailed"==receivedObj.mode?(application.errorHandling(Lang.application.loginFiledThirdPartyCookie,0),panel.close()):(layers=receivedObj,groupID=projectTree.state.myDataGroupID,$.each(layers,function(key,value){switch(value.type){case"Mesh3DML":case"MeshPhotoMesh":value.url+="/streamer.ashx",SGWorld.Creator.CreateMeshLayerFromSGSAsync(value.url,value.catalogID,groupID).OnResolve(function(layer){addContent.loadLayerCompleted(1==layers.length,layer,value.name)}).OnReject(function(error){application.errorHandling(error,0)});break;case"FeaturePoint":case"FeatureLine":case"FeaturePolygon":case"FeatureComplex":application.state.suppressMessages=!0,SGWorld.Creator.CreateFeatureLayerAsync(value.catalogID,"Server="+value.url+"/streamer.ashx;WFSVersion=1.0.0;LayerName="+value.catalogID+";TEPlugName=WFS;",groupID).OnResolve(function(layer){layer.DataSourceInfo.Attributes.ImportAll=!0,"FeaturePoint"==value.type&&(layer.FeatureGroups.Point.DisplayAs=18),layer.LoadAsync(),addContent.loadLayerCompleted(1==layers.length,layer,value.name)}).OnReject(function(error){application.errorHandling(error,0)});break;case"RasterComplex":case"UnknownRaster":case"Imagery":case"Elevation":case"TerraBuilderProject":var layerExtension=value.name.split(".").pop(),layerName=value.catalogID+"."+layerExtension+"@"+value.urlWithoutProtocol;"Elevation"==value.type||"RasterComplex"==value.type&&"elevation"==value.typeParameter||"TerraBuilderProject"==value.type&&"imagery"!=value.typeParameter?SGWorld.Creator.CreateElevationLayerAsync(layerName,0,0,0,0,'<EXT><ExtInfo><![CDATA[<Skyline version="1.0.0"><ServerList name="'+value.catalogID+"."+layerExtension+'"><Server priority="1">'+value.urlWithoutProtocol+"</Server></ServerList></Skyline>]]></ExtInfo><ExtType>mpt</ExtType></EXT>","mptplg.rct",groupID).OnResolve(function(layer){layer.TreeItem.Name=value.catalogID,addContent.loadLayerCompleted(1==layers.length,layer,value.name)}).OnReject(function(error){application.errorHandling(error,0)}):SGWorld.Creator.CreateImageryLayerAsync(layerName,0,0,0,0,'<EXT><ExtInfo><![CDATA[<Skyline version="1.0.0"><ServerList name="'+value.catalogID+"."+layerExtension+'"><Server priority="1">'+value.urlWithoutProtocol+"</Server></ServerList></Skyline>]]></ExtInfo><ExtType>mpt</ExtType></EXT>","mptplg.rct",groupID).OnResolve(function(layer){layer.TreeItem.Name=value.catalogID,addContent.loadLayerCompleted(1==layers.length,layer,value.name)}).OnReject(function(error){application.errorHandling(error,0)});break;case"TerraExplorerProject":case"TerraExplorerProjectDesktop":case"TerraExplorerProjectMobile":0==addContent.state.loadLayerType?application.reloadPageURL(value.url+"/projects/"+value.catalogID):(application.state.suppressMessages=!0,SGWorld.ProjectTree.LoadFlyLayerAsync(value.url+"/projects/"+value.catalogID,groupID).OnResolve(function(layerID){addContent.loadLayerCompleted(1==layers.length,null,value.name)}).OnReject(function(error){application.state.suppressMessages=!1}));break;case"KML":case"KMZ":case"TerraExplorerProjectWeb":application.state.suppressMessages=!0,SGWorld.Creator.CreateKMLLayer(value.url+"/projects/"+value.catalogID,groupID);break;case"PointCloud":layerName=SGWorld.Creator.CreatePosition(0,0,0,3,0,0,0,0);SGWorld.Creator.CreatePointCloudModelAsync(value.catalogID+".cpt@"+value.urlWithoutProtocol,layerName,groupID).OnResolve(function(layer){layer.TreeItem.Name=value.catalogID,addContent.loadLayerCompleted(1==layers.length,layer,value.name)}).OnReject(function(error){application.errorHandling(error,0)});break;default:application.errorHandling(""+Lang.addContent.errorNotSupported,1)}}))}}catch(err){application.errorHandling(err.message,0)}},loadLayerClosed:function(){try{addContent.state.inLoadLayer=!1,application.state.suppressMessages=!1}catch(err){application.errorHandling(err.message,0)}},loadLayerCompleted:function(singleLayer,layer,name){try{addContent.inLoadLayer=!1,application.state.suppressMessages=!1,singleLayer&&null!=layer&&projectTree.openPropertiesSheet(layer.ID,Lang.projectTree.properties+": "+layer.TreeItem.Name,"projectTree.state.style"),application.showMessageBar(Lang.projectTree.add+": "+name,5,2),clearTimeout(addContent.refreshDataTimeout),addContent.refreshDataTimeout=setTimeout(()=>{projectTree.refreshMyData()},10)}catch(err){application.errorHandling(err.message,0)}},startDrawing:function(type){try{if(services.isButtonSelected(event))SGWorld.Window.SetInputMode(0),services.resetAllButtons($("#addContentMain"));else switch(addContent.setDrawingButtonsState(event),type){case"textLabel":addContent.state.drawObject=SGWorld.Drawing.DrawTextLabel(Lang.addContent.textLabelPlaceholder,4,projectTree.getDrawingObjectsGroup(),0,0),application.showMessageBar(Lang.addContent.labelInstructions,5,2),addContent.state.drawObject.Style.FontSize=projectTree.state.defaultValues["Style.FontSize"],addContent.state.drawObject.Style.TextColor=projectTree.state.defaultValues["Style.TextColor"];break;case"imageLabel":addContent.state.drawObject=SGWorld.Drawing.DrawImageLabel(services.abspath()+"/images/icons/iconWhite.png",4,projectTree.getDrawingObjectsGroup(),0,0),addContent.state.drawObject.Style.IconColor=projectTree.state.defaultValues["Style.IconColor"],application.showMessageBar(Lang.addContent.labelInstructions,5,2);break;case"polyline":addContent.state.drawObject=SGWorld.Drawing.DrawPolyline(4,projectTree.getDrawingObjectsGroup(),0,0),application.showMessageBar(Lang.addContent.polyInstructions,5,2),addContent.state.drawObject.Position.AltitudeType=3,addContent.state.drawObject.Visibility.ShowThroughDistance=-20,addContent.state.drawObject.LineStyle.Width=projectTree.state.defaultValues["LineStyle.Width"],addContent.state.drawObject.LineStyle.Color=projectTree.state.defaultValues["LineStyle.Color"];break;case"polygon":addContent.state.drawObject=SGWorld.Drawing.DrawPolygon(4,projectTree.getDrawingObjectsGroup(),0,0),application.showMessageBar(Lang.addContent.polyInstructions,5,2),addContent.state.drawObject.Position.AltitudeType=3,addContent.state.drawObject.Visibility.ShowThroughDistance=-20,addContent.state.drawObject.LineStyle.Width=projectTree.state.defaultValues["LineStyle.Width"],addContent.state.drawObject.LineStyle.Color=projectTree.state.defaultValues["LineStyle.Color"],addContent.state.drawObject.FillStyle.Color=projectTree.state.defaultValues["FillStyle.Color"],addContent.state.drawObject.FillStyle.Color.SetAlpha(.5);break;case"freehandDrawing":panel.addAndShow(1,"./Tools/Freehand/Freehand.html?lang="+Lang.code,Lang.addContent.freehandDrawing,addContent.finishFreehand,panel.state.widthSmall,panel.state.heightSmall,!1,0)}}catch(err){application.errorHandling(err.message,0)}},onDrawingFinished:function(geometry){try{if(services.resetAllButtons($("#addContentMain")),null!=addContent.state.drawObject){if(18==addContent.state.drawObject.ObjectType&&(1==addContent.state.textLabelType||2==addContent.state.textLabelType)){var pos=application.state.PointerPos.Copy(),digits=application.state.isPlanar?1:6;if(2==addContent.state.textLabelType&&null!=settings.state.DisplayEPSG&&!isNaN(settings.state.DisplayEPSG))try{var coordSys=SGWorld.CoordServices.CreateCoordinateSystem(""),coord=(coordSys.InitFromEPSG(settings.state.DisplayEPSG),digits=4326==settings.state.DisplayEPSG?6:1,SGWorld.CoordServices.ReprojectEx(SGWorld.Terrain.CoordinateSystem,coordSys,application.state.PointerPos.X,application.state.PointerPos.Y,application.state.PointerPos.Altitude));pos.X=coord.X,pos.Y=coord.Y,pos.Altitude=coord.Z}catch(err){return!0}var YSign=0<pos.Y?Lang.application.coordNorth:Lang.application.coordSouth,XSign=0<pos.X?Lang.application.coordEast:Lang.application.coordWest;addContent.state.drawObject.Text=`${pos.X.toFixed(digits)} ${XSign} ,  ${pos.Y.toFixed(digits)} ${YSign} , ${pos.Altitude.toFixed(2)}m `+settings.state.altitudeTypeString}addContent.setFriendlyName(addContent.state.drawObject),projectTree.openPropertiesSheet(addContent.state.drawObject.ID,Lang.projectTree.edit,"projectTree.state.style")}addContent.state.drawObject=null}catch(err){application.errorHandling(err.message,0)}},setFriendlyName:function(object){try{object.TreeItem.Name=object.TreeItem.Name.replace(/^New |##.*$/g,"")}catch(err){application.errorHandling(err.message,0)}},OnInputModeChanged:function(mode){try{0==mode&&services.resetAllButtons($("#addContentMain"))}catch(err){application.errorHandling(err.message,0)}},finishFreehand:function(){try{services.resetAllButtons($("#addContentMain")),null!=addContent.state.freehandObjectID&&projectTree.openPropertiesSheet(addContent.state.freehandObjectID,Lang.projectTree.edit,"projectTree.state.style"),addContent.state.freehandObjectID=null,addContent.state.drawObject=null}catch(err){application.errorHandling(err.message,0)}},editTextLabel:function(itemID){try{var object=SGWorld.Creator.GetObject(itemID);object.Style.FontSize=object.Style.FontSize}catch(err){application.errorHandling(err.message,0)}},setDrawingButtonsState:function(event){try{var turnOn=!services.isButtonSelected(event);services.resetAllButtons($("#addContentMain")),services.highlightButtonFromEvent(event,turnOn)}catch(err){return application.errorHandling(err.message,0),""}},openPublishMyData:function(){try{SGWorld.SGServer.HasPublishPermissionAsync().OnResolve(function(bHasPublishPermission){bHasPublishPermission?null!=projectTree.state.myDataGroupID&&""!=SGWorld.ProjectTree.GetNextItem(projectTree.state.myDataGroupID,11)?(SGWorld.Window.SetInputMode(0),addContent.state.publishTags=`${application.state.connectedUser}; ${application.state.projectPath.split("/").pop()}; ${Lang.projectTree.myData};`,bHasPublishPermission=application.state.projectPath.lastIndexOf("/"),addContent.state.publishName=-1!==bHasPublishPermission?application.state.projectPath.substring(bHasPublishPermission+1):application.state.projectPath,projectTree.openPropertiesSheet(null,Lang.addContent.publishProject,"addContent.state.publishMyDataProperties")):application.showMessageBar(Lang.addContent.publishMyDataEmpty,5,1):application.showMessageBar(Lang.addContent.publishNoPublisher,5,1)}).OnReject(function(error){application.showMessageBar(Lang.addContent.publishNoPublisher,5,1)})}catch(err){application.errorHandling(err.message,0)}},pubishTypeChanged:function(id){try{0==addContent.state.publishType?($("#PSDiv"+projectTree.state.PSIndex).find(".ID_help").text(Lang.addContent.publishProjectHelp),$("#PSDiv"+projectTree.state.PSIndex).find(".ID_name").val(`${application.state.projectPath.match(/\/([^\/.]+)(?=\.\w+$)/)[1]} - ${Lang.projectTree.myData} [${application.state.connectedUser}]`)):($("#PSDiv"+projectTree.state.PSIndex).find(".ID_help").text(Lang.addContent.publishMyDataHelp),$("#PSDiv"+projectTree.state.PSIndex).find(".ID_name").val(` ${Lang.projectTree.myData} [${application.state.connectedUser}]`))}catch(err){application.errorHandling(err.message,0)}},publishMyData:function(){try{""==SGWorld.SGServer.GetConnectedUser()||null==SGWorld.SGServer.GetConnectedUser()?application.showMessageBar(Lang.addContent.cannotPublish,5,1):(application.state.suppressMessages=!0,SGWorld.ProjectTree.RenameGroup(projectTree.state.myDataGroupID,addContent.state.publishName),1==addContent.state.publishType&&addContent.setSaveInFly(SGWorld.ProjectTree.RootID,!1),SGWorld.Project.PublishToSGS(!0,!0,!1,addContent.state.publishViewPermission,0,addContent.state.publishTags,"",addContent.state.publishName))}catch(err){application.errorHandling(err.message,0)}},setSaveInFly:function(parentNode,saveMode){try{for(var node=SGWorld.ProjectTree.GetNextItem(parentNode,11);""!=node;){if(node!=projectTree.state.myDataGroupID){try{SGWorld.ProjectTree.SetSaveInFlyFile(node,saveMode)}catch(err){}SGWorld.ProjectTree.IsGroup(node)&&addContent.setSaveInFly(node,saveMode)}node=SGWorld.ProjectTree.GetNextItem(node,13)}}catch(err){application.errorHandling(err.message,0)}},OnPublishFinished:function(publishedProjectStr){try{application.state.suppressMessages=!1,SGWorld.ProjectTree.RenameGroup(projectTree.state.myDataGroupID,projectTree.state.myDataGroupName);var publishedProject=JSON.parse(publishedProjectStr);return $("#savedProjectText").val(application.state.applicationPath+"?project="+publishedProject["TE Desktop"]),0==addContent.state.publishType?panel.addAndShow(0,"publishProjectFinished",""+Lang.addContent.publishFinished,null,panel.state.widthXLarge,panel.state.heightMedium,!1,0):(addContent.setSaveInFly(SGWorld.ProjectTree.RootID,!0),panel.addAndShow(0,"publishMyDataFinished",""+Lang.addContent.publishFinished,null,panel.state.widthLarge,panel.state.heightSmall,!1,0)),!0}catch(err){application.errorHandling(err.message,0)}},copyShareLink:function(type){try{switch(type){case 0:services.copyToClipboard($("#savedProjectText").val()),application.showMessageBar(Lang.addContent.publishedProjectCopied,5,2);break;case 1:var mailtoLink=`mailto:?subject=${Lang.addContent.shareProjectEmailSubject}&body=`+$("#savedProjectText").val();window.location.href=mailtoLink;break;case 2:window.open(`https://api.whatsapp.com/send/?text=${$("#savedProjectText").val()}&type=custom_url&app_absent=0`,"_blank");break;case 3:window.open("https://twitter.com/intent/tweet?text=="+$("#savedProjectText").val(),"_blank")}}catch(err){application.errorHandling(err.message,0)}},dummy:null};