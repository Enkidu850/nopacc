var toolbox={state:{},initState:function(){try{toolbox.state={buttons:{query:["QueryBtn","select.svg",()=>{if(!toolbox.isToolAlreadyOpened("QueryMain"))return panel.addAndShow(0,"QueryMain",""+Lang.toolbox.query,analysis.stopQuery,panel.state.widthSmall,panel.state.heightMedium,!0,0),analysis.startQuery(),!0},""+Lang.toolbox.query,!1,!1],search:["SearchBtn","search.svg",()=>{if(!toolbox.isToolAlreadyOpened("searchMain"))return panel.addAndShow(0,"searchMain",""+Lang.toolbox.search,null,panel.state.widthMedium,panel.state.heightSmall,!0),!0},""+Lang.toolbox.search,!1,!1],layers:["LayersBtn","layers.svg",()=>{var height;if(!toolbox.isToolAlreadyOpened("layersMain"))return height=application.state.isMobile?panel.state.heightLarge:panel.state.heightXLarge,panel.addAndShow(0,"layersMain",""+Lang.toolbox.layers,projectTree.closeTool,panel.state.widthSmall,height,!0,3),projectTree.onShow(),!0},""+Lang.toolbox.layers,!1,!1],analysis:["AnalysisBtn","analysis.svg",()=>{if(!toolbox.isToolAlreadyOpened("analysisMain"))return panel.addAndShow(0,"analysisMain",""+Lang.toolbox.analysisTools,analysis.closeAnalysisTool,panel.state.widthSmall,panel.state.heightMedium,!0,0),!0},""+Lang.toolbox.analysisTools,!1,!1],menu:["menuBtn","menu.svg",()=>{if(!toolbox.isToolAlreadyOpened("menuMain"))return panel.addAndShow(0,"toolboxExtraMain",""+Lang.toolbox.additionalTools,null,panel.state.widthSmall,panel.state.heightSmall,!0,0),!0},""+Lang.toolbox.query,!1,!0],addContent:["AddContentBtn","add.svg",()=>{var height;if(!toolbox.isToolAlreadyOpened("addContentMain"))return height=application.state.isMobile?panel.state.heightLarge:panel.state.heightXLarge,panel.addAndShow(0,"addContentMain",""+Lang.addContent.addContent,addContent.closePanel,panel.state.widthSmall,height,!0,0),addContent.show(),!0},""+Lang.addContent.addContent,!0,!1],navigate:["NavigateBtn","navigate.svg",()=>{if(!toolbox.isToolAlreadyOpened("navigateMain"))return panel.addAndShow(0,"navigateMain",""+Lang.toolbox.navigationTools,null,panel.state.widthSmall,panel.state.heightMedium,!0,0),navigate.onShow(),!0},""+Lang.toolbox.navigationTools,!1,!1],settings:["SettingsBtn","settings.svg",()=>{if(!toolbox.isToolAlreadyOpened("settingsMain"))return settings.onShow(),panel.addAndShow(0,"settingsMain",""+Lang.toolbox.settings,null,panel.state.widthSmall,panel.state.heightLarge,!0,0),!0},""+Lang.toolbox.settings,!1,!1]},continerOpened:!1,selectedButton:null,searchToolLoaded:!1,maxMobileTools:5,last:null}}catch(err){application.errorHandling(err.message,0)}},init:function(){try{toolbox.initState(),toolbox.render(),toolbox.resetButtons()}catch(err){application.errorHandling(err.message,0)}},render:function(){try{$("body").append(`
        <div id="toolboxExtraMain" class="grid3 gridPadding gridCenter" style="display:none"></div>`);var index=0,loggeIcon=($.each(this.state.buttons,function(key,value){var htmlStr;(0==value[4]||application.state.TEPLUS)&&(0==value[5]||1==value[5]&&application.state.isMobile)&&(application.state.isMobile&&index>=toolbox.state.maxMobileTools?(htmlStr=`<div id='${value[0]}'> <button  class=" ButtonLarge  i18n" onclick='toolbox.selectTool("${key}",false); ' title="${value[3]}">`,htmlStr+=`<img src='./images/toolboxIcons/${value[1]}'><br><span>${value[3]}</span></button></div>`,$("#toolboxExtraMain")):(htmlStr=`<div class='toolbox-button' onclick='toolbox.selectTool("${key}",false); ' id='${value[0]}' title='${value[3]}'>`,htmlStr+=`<img class='toolbox-icon' src='./images/toolboxIcons/${value[1]}' /></div>`,$("#toolbox"))).append(htmlStr),index++}),$(`<div id="errorCounter" class='toolboxErrorCounter link s9inv' onclick="panel.close();settings.showErrorLog()" title="${Lang.toolbox.logger}" style="display:none" ></div>`));$("#toolbox").append(loggeIcon)}catch(err){application.errorHandling(err.message,0)}},selectTool:function(key,forceOn){try{var id=this.state.buttons[key][0];forceOn&&id==toolbox.state.selectedButton||(this.resetButtons(),this.state.buttons[key][2]()&&($("#"+id).addClass("toolbox-button-selected"),toolbox.state.selectedButton=id))}catch(err){application.errorHandling(err.message,0)}},resetButtons:function(){try{$.each(toolbox.state.buttons,function(key,value){id=toolbox.state.buttons[key][0],$("#"+id).removeClass("toolbox-button-selected")}),toolbox.state.selectedButton=null}catch(err){application.errorHandling(err.message,0)}},openContainer:function(url,toolName,x,y){try{this.state.continerOpened=!0}catch(err){application.errorHandling(err.message,0)}},isToolAlreadyOpened:function(panelID){try{var currentPanel=panel.getOpenPanelInfo();return null!=currentPanel&&currentPanel.content===panelID&&(panel.back(),!0)}catch(err){application.errorHandling(err.message,0)}},showLoggerCount:function(count){try{0<count&&!application.state.isMobile?($("#errorCounter").show(),$("#errorCounter").text(Math.min(99,count))):$("#errorCounter").hide()}catch(err){}},dummy:null};