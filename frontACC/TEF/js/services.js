var Module={canvas:document.getElementById("canvas")},SGWorld=null,services={GetParamValue:function(findParam,defaultValue){try{findParam=findParam.toLowerCase();var arr=document.location.href.split("?");if(!(arr.length<=1))for(var arr=arr[1].split("&"),i=0;i<arr.length;i++)if(0==arr[i].toLowerCase().indexOf(findParam)&&arr[i].toLowerCase().indexOf("=")==findParam.length)return(arr=arr[i].split("="))[1];return defaultValue}catch(err){return application.errorHandling(err.message,0),""}},removeURLParameter:function(findParam){try{if(findParam=findParam.toLowerCase(),(arr=document.location.href.split("#")[0].split("?")).length<=1)return defaultValue;for(var url,arr=arr[1].split("&"),i=0;i<arr.length;i++)if(0==arr[i].toLowerCase().indexOf(findParam)&&arr[i].toLowerCase().indexOf("=")==findParam.length)return arr.splice(i,1),url=document.location.href.split("#")[0].split("?")[0]+"?"+arr.join("&"),window.history.replaceState(null,null,url),!0;return!1}catch(err){return application.errorHandling(err.message,0),!1}},highlightButton:function(buttonID,highlight){try{highlight?$("#"+buttonID).addClass("ButtonChecked"):$("#"+buttonID).removeClass("ButtonChecked")}catch(err){application.errorHandling(err.message,0)}},isButtonSelected:function(event){try{var target=$(event.target);return(target=target.is("button")?target:target.parent()).hasClass("ButtonChecked")}catch(err){application.errorHandling(err.message,0)}},highlightButtonFromEvent:function(event,highlight){try{var target=$(event.target);target.is("button")||(target=target.parent()),highlight?target.addClass("ButtonChecked"):target.removeClass("ButtonChecked")}catch(err){application.errorHandling(err.message,0)}},resetAllButtons:function(parent){try{parent.find("button").removeClass("ButtonChecked")}catch(err){application.errorHandling(err.message,0)}},abspath:function(){try{var re,abspath=unescape(window.location.href),index2=(index=(abspath=0<(index=abspath.indexOf("?"))?abspath.substr(0,index-1):abspath).lastIndexOf("/"),abspath.lastIndexOf("\\")),index=index2<index?index:index2;return index<=0||("/"==(abspath=abspath.substring(0,index)).substring(0,1)&&(abspath=abspath.slice(1)),re=/file:\/\/\//gi,null!=abspath.match(re)&&(abspath=abspath.replace(re,""))),abspath}catch(err){return application.errorHandling(err.message,0),""}},copyToClipboard:function(text){try{var textArea=document.createElement("textarea");textArea.value=text,document.body.appendChild(textArea),textArea.select(),document.execCommand("copy")}catch(err){application.errorHandling(err.message,0)}},clearHTMLString:function(content){try{var isHTML=-1!=(content=""+content).indexOf("<body>");content=(content=isHTML?content.split("<body>")[1]:content).split("</body>")[0],content=isHTML?content.replace(/\\n/g,""):content.replace(/\\n/g,"<br />"),content=(content=(content=isHTML?content.replace(/\n/g,""):content.replace(/\n/g,"<br />")).replace(/\r/g,"")).replace(/\t/g,"")}catch(err){return application.errorHandling(err.message,0),""}return content},loadXMLDoc:function(filename){try{(xhttp=new XMLHttpRequest).open("GET",filename,!1),xhttp.responseType="msxml-document",xhttp.send("")}catch(err){return application.errorHandling(err.message,0),null}return xhttp.responseXML},convertXmlToHtml:function(xml,xsl){try{return(xsltProcessor=new XSLTProcessor).importStylesheet(xsl),resultDocument=xsltProcessor.transformToFragment(xml,document)}catch(err){return application.errorHandling(err.message,0),""}},validURL:function(str){try{return!!new RegExp("^(https?:\\/\\/)?([^:\\/]+)(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(str)}catch(err){return application.errorHandling(err.message,0),null}},cleanURL:function(str){try{var cleaned=str.replace(/\//g,"");return cleaned=(cleaned=cleaned.replace(/:/g,"")).replace(/\./g,"")}catch(err){return application.errorHandling(err.message,0),null}},invertDotsCommas:function(query){try{return query=(query=(query=query.replace(/\./g,"~SL~")).replace(/,/g,".")).replace(/~SL\~/g,",")}catch(err){return application.errorHandling(err.message,0),null}},loadAndRunScript:function(FILE_URL,async=!0){try{var scriptEle=document.createElement("script");scriptEle.setAttribute("src",FILE_URL),scriptEle.setAttribute("type","text/javascript"),scriptEle.setAttribute("async",async),document.body.appendChild(scriptEle),scriptEle.addEventListener("error",ev=>{application.errorHandling(""+Lang.application.scriptNotFound,0)})}catch(err){return application.errorHandling(err.message,0),null}},hexToRgb:function(hex){hex=hex.replace(/^#/,"");hex=parseInt(hex,16);return{r:hex>>16&255,g:hex>>8&255,b:255&hex}},dummy:function(){}};