var panel={state:{},initState:function(){try{panel.state={widthSmall:"26rem",widthMedium:"35rem",widthLarge:"50%",widthXLarge:"75%",heightSmall:"11rem",heightMedium:"30rem",heightLarge:"45rem",heightXLarge:"90%",isIframeOpened:!1,panelQueue:[],prevWidth:null,prevHeight:null,expandMode:0,currentElement:null,expanded:!1,last:null}}catch(err){application.errorHandling(err.message,0)}},init:function(){try{panel.initState(),panel.render(),$("#panelDiv").css("opacity","0"),application.state.isMobile&&(panel.state.heightSmall="20%",panel.state.heightMedium="40%",panel.state.heightLarge="55%",panel.state.heightXLarge="75%",$("#panelDiv").height("0%"))}catch(err){application.errorHandling(err.message,0)}},render:function(){try{$("body").append(`
            <div id="panelDiv" class="panel s9 boxShadowLarge" title="" style="display:none; padding:0px">
                <div class="panelHeader">
                    <div class="gridLeft " > <img class="link imgSmall"  id="panelBackBtn" onclick="panel.back()" src="images/icons/backArrow.svg"   /> </div>
                    <div class="gridLeft noScroll" id="panelCaptionWrapper"> <span class="s12 bold " id="panelCaption" >xxx</span> </div>
                    <div class="gridRight " > 
                        <img class="link imgSmall"  id="panelExpandBtn" onclick="panel.expand()" src="images/icons/fullscreen.svg"   /> 
                        <img class="link imgSmall" id="panelCloseButton" onclick="panel.close(false)" src="images/icons/close.svg"> 
                    </div>
                </div>
                <div id="panelContentWrapper" class="panelContentWrapper"></div>  
            </div> `),$("body").append(`  
        <div id="panelIframeWraper" class="panelIframeWraper" style="display:none">
            <iframe id="panelIframe" class="panelIframe" src=""></iframe>
        </div>`)}catch(err){application.errorHandling(err.message,0)}},addAndShow:function(type,content,title,closeCallback,width,height,closeBefore,expandMode){try{null==width&&(width=null==panel.state.prevWidth?panel.state.widthSmall:panel.state.prevWidth),null==height&&(height=null==panel.state.prevHeight?panel.state.heightMedium:panel.state.prevHeight),panel.state.prevWidth=width,panel.state.prevHeight=height,closeBefore&&panel.close(!1),panel.state.panelQueue.push({type:type,content:content,title:title,closeCallback:closeCallback,width:width,height:height,expandMode:expandMode}),panel.showPanelContent()}catch(err){application.errorHandling(err.message,0)}},showPanelContent:function(){try{var divID,panelQueueElement,dettachedChild;0!=panel.state.panelQueue.length&&(panelQueueElement=panel.state.panelQueue[panel.state.panelQueue.length-1],1<panel.state.panelQueue.length&&((dettachedChild=$("#panelContentWrapper").children(":first-child").detach()).hide(),$(document.body).append(dettachedChild)),divID=0==panelQueueElement.type?panelQueueElement.content:"panelIframeWraper",panel.state.currentElement=$("#"+divID),panel.state.currentElement.detach().appendTo("#panelContentWrapper"),panel.state.currentElement.show(),application.state.isMobile?$("#panelDiv").width("100%"):$("#panelDiv").width(panelQueueElement.width),$("#panelDiv").height(panelQueueElement.height),$("#panelCaption").text(panelQueueElement.title),$("#panelDiv").show(),$("#panelDiv").css("opacity","1"),0<panelQueueElement.expandMode?$("#panelExpandBtn").show():$("#panelExpandBtn").hide(),panel.state.expanded=!1,1==panelQueueElement.type)&&($("#panelIframe").attr("src",panelQueueElement.content),panel.state.isIframeOpened=!0)}catch(err){application.errorHandling(err.message,0)}},setTitle:function(title){try{$("#panelCaption").text(title)}catch(err){application.errorHandling(err.message,0)}},back:function(){try{panel.state.panelQueue.length<2&&panel.close(!0);var dettachedChild,panelQueueElement=panel.state.panelQueue.pop();null!=panelQueueElement.closeCallback&&panelQueueElement.closeCallback(),0<$("#panelContentWrapper").children().length&&((dettachedChild=$("#panelContentWrapper").children(":first-child").detach()).hide(),$(document.body).append(dettachedChild)),panel.state.isIframeOpened=!1,1==panelQueueElement.type&&$("#panelIframe").attr("src",""),panel.showPanelContent()}catch(err){application.errorHandling(err.message,0)}},close:function(fromBack){try{for(;0!=panel.state.panelQueue.length&&!fromBack;)panel.back();application.state.isMobile?$("#panelDiv").height("0%"):$("#panelDiv").hide(),$("#panelDiv").css("opacity","0"),toolbox.resetButtons()}catch(err){application.errorHandling(err.message,0)}},expand:function(){try{var panelQueueElement=panel.state.panelQueue[panel.state.panelQueue.length-1];panel.state.expanded?($("#panelDiv").width(panelQueueElement.width),$("#panelDiv").height(panelQueueElement.height),panel.state.expanded=!1):(1!=panelQueueElement.expandMode&&3!=panelQueueElement.expandMode||$("#panelDiv").width("90%"),2!=panelQueueElement.expandMode&&3!=panelQueueElement.expandMode||(application.state.isMobile?$("#panelDiv").height("75%"):$("#panelDiv").height("90%")),panel.state.expanded=!0),application.state.isMobile&&$("#panelDiv").width("100%")}catch(err){application.errorHandling(err.message,0)}},setDimentions:function(width,height){try{$("#panelDiv").width(width),$("#panelDiv").height(height)}catch(err){application.errorHandling(err.message,0)}},getOpenPanelInfo:function(){try{var panelQueueElement;return 0!=panel.state.panelQueue.length?{type:(panelQueueElement=panel.state.panelQueue[panel.state.panelQueue.length-1]).type,content:panelQueueElement.content}:null}catch(err){application.errorHandling(err.message,0)}},dummy:null};